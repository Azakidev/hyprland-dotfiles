monitor=    HDMI-A-1,   1920x1080@75,   auto,   1

# Enviroment variables

env = GDK_BACKEND,wayland
env = XCURSOR_THEME,Afterglow-cursors
env = QT_QPA_PLATFORMTHEME,qt6ct

####################
### Initial apps ###
####################

#Important stuff
exec-once = waybar & blueberry-tray
exec-once = /usr/lib/huiontablet/huiontablet.sh
exec-once = /home/zazag/xdphypr.sh
exec-once = systemctl --user start dunst.service
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = swayidle -w timeout 900 swaylock
exec-once = ddcutil -d 1 setvcp 10 100

exec-once = xwaylandvideobridge

#Less important stuff
exec-once = mpvpaper -p -o "loop panscan=1.0 speed=1" "*" ~/Documents/hyprland-dotfiles/cloud9.avif
exec-once = hyprctl setcursor Afterglow-cursors 24
exec-once = discord

#Clipboard
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

#Blur thy surfaces
blurls=     waybar
blurls=     launcher
blurls=     notifications

#Cheesy chime
exec-once = mpv --no-video --volume=80 ~/Documents/hyprland-dotfiles/hypr/chime.mp3

input {
    kb_layout = gb
    numlock_by_default = true
    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0
}

general {

    gaps_in = 3
    gaps_out = 7
    
    border_size = 2
    col.active_border = rgba(c39acacc) rgba(bd93f9cc) 45deg
    col.inactive_border = rgba(44475acc) rgba(6272a499) 45deg
    
    layout = dwindle
}

decoration {
    rounding = 10
    
    blur = yes
    blur_size = 3
    blur_passes = 3
    blur_new_optimizations = on

    inactive_opacity = 0.9

    drop_shadow = yes
    shadow_range = 10
    shadow_render_power = 2
    col.shadow = rgba(000000af)
    col.shadow_inactive = rgba(00000000)
}

animations {
    enabled = yes

    bezier = in, 0.5, 1.2, 0.4, 1
    bezier = out, 0, 1, 0.6, 1
    bezier = move,.42, 0, .58, 1

    bezier = workspaceswitch, 0.5, 1.15, 0.4, 1
    
    bezier = fader, 0.33, 1, 0.68, 1

    ###Animations

    animation = windowsMove, 1, 1, default
    animation = windowsIn, 1, 4, in, popin
    animation = windowsOut, 1, 4, out, popin 50%
    
    animation = border, 1, 10, default
    
    animation = fadeIn, 1, 2, fader
    animation = fadeOut, 1, 2, fader
    animation = fade, 1, 4, fader
    
    animation = workspaces, 1, 4, workspaceswitch, slidevert
}

dwindle {
    pseudotile = yes 
    preserve_split = yes 
}

misc {
    vrr = 1
}

####################
### Window rules ###
####################

#YT WEBAPP & YT MUSIC WEBAPP
windowrulev2 = opaque,              class:^(FFPWA-01GCH6HCGTY0HBTKA0Z8DNPN36)$
windowrulev2 = idleinhibit focus,   class:^(FFPWA-01GCH6HCGTY0HBTKA0Z8DNPN36)$
windowrulev2 = opacity 0.9 0.9,     class:^(FFPWA-01GCH6J70CVND1ZK09Z2ZAEV30)$

#Tube Converter
windowrulev2 = float,               class:^(org.nickvision.tubeconverter)$
windowrulev2 = opaque,              class:^(org.nickvision.tubeconverter)$
windowrulev2 = move 500 48,         class:^(org.nickvision.tubeconverter)$
windowrulev2 = size 910 430,        class:^(org.nickvision.tubeconverter)$
windowrulev2 = animation slide,     class:^(org.nickvision.tubeconverter)$
    #Download
    windowrulev2 = move 765 48,     class:^(org.nickvision.tubeconverter)$, title:^(Add\sDownload)$
    windowrulev2 = size 420 467,    class:^(org.nickvision.tubeconverter)$, title:^(Add\sDownload)$

#STEAM
windowrulev2 = tile,                class:^(steam)$
    #OSK
    windowrulev2 = opaque,          class:^(steam)$, title:^(Steam\sInput\sOn-screen\sKeyboard)$
    windowrulev2 = noblur,          class:^(steam)$, title:^(Steam\sInput\sOn-screen\sKeyboard)$

#GAMES
windowrulev2 = idleinhibit focus,   initialtitle:^(TVRUHH)$

#Misc
windowrulev2 = size 600 500,        title:^(Wine\sconfiguration)$
windowrulev2 = float,               title:^(Bevy\ test)$
windowrulev2 = size 500 500,        class:^(uninstaller.exe)$
windowrulev2 = idleinhibit focus,   class:^(yuzu)$
windowrulev2 = idleinhibit focus,   class:^(Celeste.bin.x86_64)$
windowrulev2 = idleinhibit focus,   fullscreen:1

#Xwaylandvideobridge
windowrulev2 = opacity 0.0 override 0.0 override,class:^(xwaylandvideobridge)$
windowrulev2 = nofocus,class:^(xwaylandvideobridge)$
windowrulev2 = pin,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$

#Weather
windowrulev2 = float,               class:^(io.github.amit9838.weather)$
windowrulev2 = opaque,              class:^(io.github.amit9838.weather)$
windowrulev2 = move 560 48,         class:^(io.github.amit9838.weather)$
windowrulev2 = size 812 442,        class:^(io.github.amit9838.weather)$
windowrulev2 = animation slide,     class:^(io.github.amit9838.weather)$

#Discord
windowrulev2 = float,               class:^(discord)$, title:^(Discord\sUpdater)$
windowrulev2 = opaque,              class:^(discord)$, title:^(Discord\sUpdater)$
windowrulev2 = move 810 48,         class:^(discord)$, title:^(Discord\sUpdater)$
windowrulev2 = animation slide,     class:^(discord)$, title:^(Discord\sUpdater)$

#Telegram
windowrulev2 = float,               class:^(org.telegram.desktop)$, title:^(Media\sviewer)$
windowrulev2 = opaque,              class:^(org.telegram.desktop)$, title:^(Media\sviewer)$
windowrulev2 = nofullscreenrequest, class:^(org.telegram.desktop)$, title:^(Media\sviewer)$
windowrulev2 = move 500 48,         class:^(org.telegram.desktop)$, title:^(Media\sviewer)$
windowrulev2 = size 950 500,        class:^(org.telegram.desktop)$, title:^(Media\sviewer)$
windowrulev2 = animation slide,     class:^(org.telegram.desktop)$, title:^(Media\sviewer)$

#Clocks
windowrulev2 = float,               class:^(org.gnome.clocks)$, title:^(Clocks)$
windowrulev2 = opaque,              class:^(org.gnome.clocks)$, title:^(Clocks)$
windowrulev2 = nofullscreenrequest, class:^(org.gnome.clocks)$, title:^(Clocks)$
windowrulev2 = move 585 49,         class:^(org.gnome.clocks)$, title:^(Clocks)$
windowrulev2 = size 740 520,        class:^(org.gnome.clocks)$, title:^(Clocks)$
windowrulev2 = animation slide,     class:^(org.gnome.clocks)$, title:^(Clocks)$

#Disks
windowrulev2 = float,               class:^(gnome-disks)$
windowrulev2 = opaque,              class:^(gnome-disks)$
windowrulev2 = move 510 48,         class:^(gnome-disks)$
windowrulev2 = size 825 500,        class:^(gnome-disks)$
windowrulev2 = animation slide,     class:^(gnome-disks)$

#Huiontablet
windowrulev2 = move 505 48,         class:^(huiontablet)$
windowrulev2 = animation slide,     class:^(huiontablet)$

#CODE & TERMINAL
windowrulev2 = animation slide,     class:^(kitty)$
windowrulev2 = opacity 0.9 0.9,     class:^(Code)$

#CPU-X
windowrulev2 = float,               class:^(cpu-x)$
windowrulev2 = opaque,              class:^(cpu-x)$
windowrulev2 = move 1405 48,        class:^(cpu-x)$
windowrulev2 = animation slide,     class:^(cpu-x)$

#gcolor3
windowrulev2 = opaque,              class:^(gcolor3)$
windowrulev2 = pin,                 class:^(gcolor3)$
windowrulev2 = float,               class:^(gcolor3)$
windowrulev2 = animation slide,     class:^(gcolor3)$
windowrulev2 = size 728 306,        class:^(gcolor3)$
windowrulev2 = move 600 760,        class:^(gcolor3)$

#Amberol
windowrulev2 = opacity 0.9 0.8,     class:^(io.bassi.Amberol)$
windowrulev2 = float,               class:^(io.bassi.Amberol)$
windowrulev2 = animation slide,     class:^(io.bassi.Amberol)$
windowrulev2 = size 440 633,        class:^(io.bassi.Amberol)$
windowrulev2 = move 1470 48,        class:^(io.bassi.Amberol)$

#Polkit
windowrulev2 = opaque,              class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = float,               class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = animation slide,     class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = move 700 48,         class:^(org.kde.polkit-kde-authentication-agent-1)$

#gnome-system-monitor
windowrulev2 = animation slide,     class:^(gnome-system-monitor)$
windowrulev2 = opaque,              class:^(gnome-system-monitor)$
    #Popup
    windowrulev2 = move 50 48,      class:^(gnome-system-monitor)$
    #Window
    windowrulev2 = float,           class:^(gnome-system-monitor)$, title:^(System\sMonitor)$
    windowrulev2 = size 675 540,    class:^(gnome-system-monitor)$, title:^(System\sMonitor)$
    windowrulev2 = move 10 48,      class:^(gnome-system-monitor)$, title:^(System\sMonitor)$

#Krita
windowrulev2 = opaque,              class:^(krita)$
windowrulev2 = float,               class:^(xdg-desktop-portal-gtk)$, title:^(Please\sselect\sthe\sJSON\scomic\sconfig\sfile.)$
windowrulev2 = size 955 652,        class:^(xdg-desktop-portal-gtk)$, title:^(Please\sselect\sthe\sJSON\scomic\sconfig\sfile.)$
windowrulev2 = move 505 224,        class:^(xdg-desktop-portal-gtk)$, title:^(Please\sselect\sthe\sJSON\scomic\sconfig\sfile.)$

#Calculator
windowrulev2 = float,               class:^(org.gnome.Calculator)$
windowrulev2 = animation slide,     class:^(org.gnome.Calculator)$
windowrulev2 = move 1540 48,        class:^(org.gnome.Calculator)$
windowrulev2 = size 370 500,        class:^(org.gnome.Calculator)$

#NAUTILUS
windowrulev2 = opacity 0.9,         class:^(org.gnome.Nautilus)$
    #Nautilus conflicts
    windowrulev2 = size 503 369,    title:^(Merge Folder)$
    windowrulev2 = size 480 352,    title:^(File\sConflict)$
    #Popups
    windowrulev2 = move 800 48,     title:^(Unable\sto\saccess\slocation)$
    windowrulev2 = animation slide, title:^(Unable\sto\saccess\slocation)$
    windowrulev2 = move 745 48,     title:^(New\sFolder)$
    windowrulev2 = animation slide, title:^(New\sFolder)$
    #Props
    windowrulev2 = move 10 48,      class:^(org.gnome.Nautilus)$, title:^(Properties)$    
    windowrulev2 = size 475 650,    class:^(org.gnome.Nautilus)$, title:^(Properties)$ 
    #Previewer
    windowrulev2 = opaque,          class:^(org.gnome.NautilusPreviewer)$
    windowrulev2 = move 760 48,     class:^(org.gnome.NautilusPreviewer)$
    windowrulev2 = animation slide, class:^(org.gnome.NautilusPreviewer)$

#Dolphin#
    #Empty trash
    windowrulev2 = size 522 175,    class:^(org.kde.dolphin)$, title:^(Delete\sPermanently\s—\sDolphin)$
    windowrulev2 = move 715 45,     class:^(org.kde.dolphin)$, title:^(Delete\sPermanently\s—\sDolphin)$


#PAVUCONTROL
windowrulev2 = float,               class:^(pavucontrol)$
windowrulev2 = pin,                 class:^(pavucontrol)$
windowrulev2 = move 1362 48,        class:^(pavucontrol)$
windowrulev2 = size 546 488,        class:^(pavucontrol)$
windowrulev2 = animation slide,     class:^(pavucontrol)$

#MYXER
windowrulev2 = float,               class:^(myxer)$
windowrulev2 = pin,                 class:^(myxer)$
windowrulev2 = move 1310 48,        class:^(myxer)$
windowrulev2 = size 600 400,        class:^(myxer)$
windowrulev2 = animation slide,     class:^(myxer)$
    #Card Profiles
    windowrulev2 = float,           class:^(myxer)$, title:^(Card\sProfiles)$
    windowrulev2 = pin,             class:^(myxer)$, title:^(Card\sProfiles)$
    windowrulev2 = move 1427 560,   class:^(myxer)$, title:^(Card\sProfiles)$
    windowrulev2 = size 483 510,    class:^(myxer)$, title:^(Card\sProfiles)$
    windowrulev2 = animation slide, class:^(myxer)$, title:^(Card\sProfiles)$
    #About
    windowrulev2 = float,           class:^(myxer)$, title:^(About\sMyxer)$
    windowrulev2 = pin,             class:^(myxer)$, title:^(About\sMyxer)$
    windowrulev2 = move 8 48,       class:^(myxer)$, title:^(About\sMyxer)$
    windowrulev2 = size 424 380,    class:^(myxer)$, title:^(About\sMyxer)$
    windowrulev2 = animation slide, class:^(myxer)$, title:^(About\sMyxer)$

#NETWORK CONTROL
windowrulev2 = float,               class:^(nm-connection-editor)$
windowrulev2 = pin,                 class:^(nm-connection-editor)$
windowrulev2 = move 1440 48,        class:^(nm-connection-editor)$
windowrulev2 = size 470 392,        class:^(nm-connection-editor)$
windowrulev2 = animation slide,     class:^(nm-connection-editor)$

#BLUETOOTH
windowrulev2 = float,               class:^(blueberry.py)$
windowrulev2 = pin,                 class:^(blueberry.py)$
    #Devices
    windowrulev2 = move 775 48,     class:^(blueberry.py)$
    windowrulev2 = size 380 426,    class:^(blueberry.py)$
    windowrulev2 = animation slide, class:^(blueberry.py)$
    #Menu
    windowrulev2 = move 1436 48,    class:^(blueberry.py)$, title:^(Bluetooth)$
    windowrulev2 = size 472 387,    class:^(blueberry.py)$, title:^(Bluetooth)$
    windowrulev2 = animation slide, class:^(blueberry.py)$, title:^(Bluetooth)$
    #Send to
    windowrulev2 = float,           class:^(bluetooth-sendto)$
    windowrulev2 = pin,             class:^(bluetooth-sendto)$
    windowrulev2 = move 10 48,      class:^(bluetooth-sendto)$
    windowrulev2 = size 400 167,    class:^(bluetooth-sendto)$
    windowrulev2 = animation slide, class:^(bluetooth-sendto)$
    #Picker
    windowrulev2 = size 760 520,    class:^(bluetooth-sendto)$, title:^(Choose\sfiles\sto\ssend)$

#SCRCPY
windowrulev2 = float,               class:^(scrcpy)$
windowrulev2 = animation slide,     class:^(scrcpy)$
windowrulev2 = pin,                 class:^(scrcpy)$
windowrulev2 = move 1565 48,        class:^(scrcpy)$
windowrulev2 = size 346 770,        class:^(scrcpy)$

#WARP
windowrulev2 = float,               class:^(app.drey.Warp)$
windowrulev2 = animation slide,     class:^(app.drey.Warp)$
windowrulev2 = move 725 48,         class:^(app.drey.Warp)$
windowrulev2 = size 515 575,        class:^(app.drey.Warp)$
    #Preferences
    windowrulev2 = float,           class:^(warp)$, title:^(Preferences)$
    windowrulev2 = animation        slide, class:^(warp)$, title:^(Preferences)$
    windowrulev2 = move 10 48,      class:^(warp)$, title:^(Preferences)$
    windowrulev2 = size 570 610,    class:^(warp)$, title:^(Preferences)$
    #Keyboard shortcuts
    windowrulev2 = float,           class:^(warp)$, title:^(Warp)$
    windowrulev2 = animation slide, class:^(warp)$, title:^(Warp)$
    windowrulev2 = move 10 48,      class:^(warp)$, title:^(Warp)$
    windowrulev2 = size 464 252,    class:^(warp)$, title:^(Warp)$
     #About
    windowrulev2 = float,           class:^(warp)$, title:^(About)$
    windowrulev2 = animation slide, class:^(warp)$, title:^(About)$
    windowrulev2 = move 10 48,      class:^(warp)$, title:^(About)$
    windowrulev2 = size 360 641,    class:^(warp)$, title:^(About)$

#############
### Binds ###
#############

$mainMod = SUPER

# Basic binds
bind = $mainMod, C, killactive, 
bind = $mainMod, M, exit, 
bind = $mainMod, V, togglefloating, 
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = ALT,TAB, cyclenext

# Screenshots, color picker, clipboard
bind =                  , Print,    exec, grim -g "$(slurp -b 44475ACC -c BD93F9FF -w 1 -d -F 'MiSans')" - | wl-copy
bind = $mainMod         , Print,    exec, grim - | wl-copy
bind = $mainMod SHIFT   , C    ,    exec, hyprpicker

bind = $mainMod SHIFT   , V    ,    exec, cliphist list | fuzzel --dmenu | cliphist decode | wl-copy


# Launchers
bind = $mainMod         , Q     , exec, kitty
bind = $mainMod SHIFT   , Q     , exec, [float; move 700 735; size 540 335] pkill kitty || kitty

bind = $mainMod         , E     , exec  , dolphin
bind = $mainMod SHIFT   , E     , exec, [float;pin;animation slide; move 700 570; size 540 500] pkill dolphin || dolphin

bind = $mainMod, A, exec, firefox
bind = $mainMod, K, exec, flatpak run io.bassi.Amberol
bind = $mainMod, pause, exec, pkill warp || flatpak run app.drey.Warp
bind = , XF86Calculator, exec, killall gnome-calculator || gnome-calculator
bind = $mainMod, F, exec, pkill weather || flatpak run io.github.amit9838.weather

bind = SHIFT_CONTROL        , Escape,   exec, killall gnome-system-monitor || gnome-system-monitor -p
bind = $mainMod             , B     ,   exec, [float;animation slide; move 560 48; size 821 570] pkill btop || kitty btop

bind = $mainMod, TAB, exec,[animation slide] pkill fuzzel || fuzzel
bind = $mainMod SHIFT, TAB, exec, pkill /home/zazag/Documents/hyprland-dotfiles/fuzzel/fuzzel-translate.sh || /home/zazag/Documents/hyprland-dotfiles/fuzzel/fuzzel-translate.sh
bind = $mainMod ALT, TAB, exec, pkill /home/zazag/Documents/hyprland-dotfiles/fuzzel/fuzzel-search.sh || /home/zazag/Documents/hyprland-dotfiles/fuzzel/fuzzel-search.sh

bind = $mainMod, period, exec, rofimoji --typer wtype -a type copy --selector fuzzel --clipboarder wl-copy | fuzzel --drun
bind = CONTROL ALT, C, exec, pkill gcolor3 || gcolor3


#SCRCPY
bind = $mainMod ALT, grave, exec, killall scrcpy || scrcpy --tcpip=192.168.0.15:5555 -t
bind = $mainMod SHIFT, grave, exec, killall scrcpy || scrcpy -d -M -K

#Power and lock
bind = $mainMod, L, exec, swaylock
bind = CONTROL ALT, Delete, exec, shutdown now
bind = CONTROL SHIFT, Delete, exec, reboot
bind = $mainMod ALT, Delete, exec, systemctl suspend 

bind = $mainMod ALT, Q, exec, [fullscreen] kitty pipes-rs

# Restart waybar (Yeah)
bind = $mainMod SHIFT, F5, exec, pkill waybar && waybar

####################
### Window binds ###
####################

# Move focus
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Scroll through workspaces
bind = $mainMod, mouse_up, workspace, e+1
bind = $mainMod, mouse_down, workspace, e-1

bind = $mainMod ALT, mouse_up, workspace, +1
bind = $mainMod ALT, mouse_down, workspace, -1
bind = $mainMod ALT, up, workspace, -1
bind = $mainMod ALT, down, workspace, +1

# Scroll to move windows to other workspaces
bind = $mainMod SHIFT, mouse_up, movetoworkspace, +1
bind = $mainMod SHIFT, mouse_down, movetoworkspace, -1
bind = $mainMod SHIFT, up, movetoworkspace, -1
bind = $mainMod SHIFT, down, movetoworkspace, +1

# Move/resize windows with mouse
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

################
### Controls ###
################

# Media controls
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPause, exec, playerctl play-pause
bind = , XF86AudioStop, exec, playerctl stop
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# Volume controls
bind = , XF86AudioRaiseVolume,  exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = , XF86AudioLowerVolume,  exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute ,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86Tools ,            exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Brightness controls
bind = SUPER, Next, exec, ddcutil -d 1 setvcp 10 - 20
bind = SUPER, Prior, exec, ddcutil -d 1 setvcp 10 + 20
bind = SUPER SHIFT, Next, exec, ddcutil -d 1 setvcp 10 0
bind = SUPER SHIFT, Prior, exec, ddcutil -d 1 setvcp 10 100 


#################
### App binds ###
#################

# Obs binds
    #   Stream or record
bind = SUPER CONTROL, KP_Subtract , pass, ^(com\.obsproject\.Studio)$
bind = SUPER CONTROL, KP_Multiply , pass, ^(com\.obsproject\.Studio)$
    #   Scenes
bind = CONTROL, KP_0, pass, ^(com\.obsproject\.Studio)$
bind = CONTROL, KP_1, pass, ^(com\.obsproject\.Studio)$
bind = CONTROL, KP_2, pass, ^(com\.obsproject\.Studio)$

# Discord
bind = $mainMod, F8, pass, discord
bind = $mainMod, F7, pass, discord